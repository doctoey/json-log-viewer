<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏•‡∏á JSON Log ‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢</title>
    <style>
      :root {
        --bg: #0f1419; /* page background */
        --panel: #15202b; /* card / panel */
        --muted: #8899a6; /* labels / helper text */
        --text: #e6eef8; /* main text */
        --accent: #1d9bf0; /* primary blue */
        --accent-2: #2aa7ff; /* lighter blue */
        --card-border: rgba(255, 255, 255, 0.035);
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Sarabun", Inter, system-ui, -apple-system, "Segoe UI",
          Roboto, sans-serif;
        background: var(--bg);
        color: var(--text);
        padding: 28px 20px;
        max-width: 900px;
        margin: 0 auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      h1 {
        color: var(--text);
        text-align: center;
        font-size: 28px;
        margin: 6px 0 18px;
        letter-spacing: 0.2px;
      }

      .container {
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.012),
          rgba(255, 255, 255, 0.006)
        );
        padding: 22px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(3, 7, 12, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.02);
        background-color: var(--panel);
      }

      label {
        display: block;
        color: var(--muted);
        font-weight: 600;
        margin-bottom: 8px;
      }

      textarea {
        width: 100%;
        height: 160px;
        border-radius: 10px;
        padding: 14px;
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono",
          monospace;
        background: linear-gradient(180deg, #0b1418, var(--panel));
        color: var(--text);
        border: 1px solid rgba(255, 255, 255, 0.03);
        font-size: 13.5px;
        line-height: 1.45;
        resize: vertical;
      }
      textarea::placeholder {
        color: rgba(230, 238, 248, 0.45);
      }

      button {
        display: inline-block;
        width: 100%;
        padding: 12px 18px;
        border-radius: 10px;
        border: 0;
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        color: #fff;
        font-weight: 700;
        font-size: 15px;
        cursor: pointer;
        margin-top: 12px;
        box-shadow: 0 6px 18px rgba(29, 155, 240, 0.18);
      }
      button:active {
        transform: translateY(1px);
      }

      .result-box {
        margin-top: 20px;
        background-color: var(--panel);
        padding: 18px;
        border-radius: 10px;
        overflow: auto;
        display: none;
        border: 1px solid rgba(255, 255, 255, 0.02);
      }

      pre {
        margin: 0;
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono",
          monospace;
        font-size: 15px;
        color: var(--text);
        line-height: 1.6;
        white-space: pre-wrap;
        word-break: break-word;
      }

      /* improved syntax colors with balanced contrast (Twitter dark) */
      .key {
        color: #ff6b6b;
        font-weight: 700;
      } /* warm red */
      .string {
        color: #7ee787;
      } /* green */
      .number {
        color: #ffca6b;
      } /* yellow */
      .boolean {
        color: #1da1f2;
      } /* blue */
      .null {
        color: #b085ff;
      } /* purple */

      .result-box pre {
        background: transparent;
        padding: 0;
      }

      @media (max-width: 520px) {
        h1 {
          font-size: 20px;
        }
        textarea {
          height: 140px;
        }
        pre {
          font-size: 13px;
        }
      }
      .editor-row {
        display: flex;
        gap: 14px;
        margin-top: 6px;
      }
      .pane {
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      .pane button {
        margin-top: 10px;
        width: auto;
        align-self: stretch;
      }

      @media (max-width: 820px) {
        .editor-row {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üõ†Ô∏è ‡πÅ‡∏õ‡∏•‡∏á Log ‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢</h1>

      <div class="editor-row">
        <div class="pane">
          <label for="inputData">‡∏ß‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (String) ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà:</label>
          <textarea
            id="inputData"
            placeholder='‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: "{\"log\":{\"event\":...}}"'
          ></textarea>
          <button onclick="convertJson()">‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô JSON</button>
        </div>

        <div class="pane">
          <label for="jsonData">JSON (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ):</label>
          <textarea
            id="jsonData"
            placeholder="JSON ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ"
          ></textarea>
          <button onclick="convertToString()">‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô String</button>
        </div>
      </div>

      <div id="resultContainer" class="result-box"><pre id="output"></pre></div>
    </div>

    <script>
      function convertJson() {
        const input = document.getElementById("inputData").value.trim();
        const jsonArea = document.getElementById("jsonData");
        const outputDiv = document.getElementById("output");
        const resultBox = document.getElementById("resultContainer");
        if (!input) {
          alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ß‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö");
          return;
        }
        try {
          let parsed;
          try {
            parsed = JSON.parse(input);
          } catch (e) {
            parsed = input;
          }
          if (typeof parsed === "string") {
            try {
              parsed = JSON.parse(parsed);
            } catch (e) {
              // not a JSON string: just show quoted string
              jsonArea.value = JSON.stringify(parsed, null, 2);
              outputDiv.innerHTML = syntaxHighlight(parsed);
              resultBox.style.display = "block";
              return;
            }
          }
          // Show pretty JSON in editable area
          jsonArea.value = JSON.stringify(parsed, null, 2);
          // also show highlighted JSON in result box
          outputDiv.innerHTML = syntaxHighlight(parsed);
          resultBox.style.display = "block";
        } catch (error) {
          alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á\n" + error.message);
          console.error(error);
        }
      }

      function syntaxHighlight(json) {
        if (typeof json != "string") {
          json = JSON.stringify(json, undefined, 2);
        }
        json = json
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;");
        return json.replace(
          /("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,
          function (match) {
            var cls = "number";
            if (/^"/.test(match)) {
              if (/:$/.test(match)) {
                cls = "key";
              } else {
                cls = "string";
              }
            } else if (/true|false/.test(match)) {
              cls = "boolean";
            } else if (/null/.test(match)) {
              cls = "null";
            }
            return '<span class="' + cls + '">' + match + "</span>";
          }
        );
      }

      function convertToString() {
        const jsonText = document.getElementById("jsonData").value.trim();
        const inputArea = document.getElementById("inputData");
        const outputDiv = document.getElementById("output");
        const resultBox = document.getElementById("resultContainer");
        if (!jsonText) {
          alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà JSON ‡πÉ‡∏ô‡∏Å‡∏£‡∏≠‡∏ö‡∏Ç‡∏ß‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö");
          return;
        }
        try {
          const parsed = JSON.parse(jsonText);
          // produce a compact string suitable for logs
          const compact = JSON.stringify(parsed);
          inputArea.value = compact;
          // show compact string in result box
          outputDiv.textContent = compact;
          resultBox.style.display = "block";
        } catch (error) {
          alert("JSON ‡πÉ‡∏ô‡∏Å‡∏£‡∏≠‡∏ö‡∏Ç‡∏ß‡∏≤‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: \n" + error.message);
          console.error(error);
        }
      }
    </script>
  </body>
</html>
